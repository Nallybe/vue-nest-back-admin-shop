var ot=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var P=(e,t,r)=>(ot(e,t,"read from private field"),r?r.call(e):t.get(e)),pe=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Ve=(e,t,r,i)=>(ot(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r);var Se=(e,t,r)=>(ot(e,t,"access private method"),r);import{S as ir,s as sr,v as _t,x as or,y as lr,z as D,A as qe,B as ar,w as oe,C as ur,D as Nt,E as dr,G as cr,H as fr,q as He,e as Q,u as re,I as te,k as vr,J as wt,K as E,f as Rt,L as gr,M as hr,N as pr,O as mr,P as br,d as ct,c as q,a as n,n as ft,p as Ge,t as $e,Q as vt,F as Pe,o as G,R as Tt,T as Mt,_ as Ut,U as yr,V as _r,W as Ue,X as Vt,Y as wr,g as Ce,Z as Oe,r as lt,$ as Vr,a0 as Sr,m as St}from"./index-C4wmlv7p.js";import{u as Or,g as Ar,a as kr}from"./get-product-image.action-CwGFgnVJ.js";var ue,de,x,se,ke,De,Re,dt,$t,Er=($t=class extends ir{constructor(t,r){super();pe(this,ke);pe(this,Re);pe(this,ue,void 0);pe(this,de,void 0);pe(this,x,void 0);pe(this,se,void 0);Ve(this,ue,t),this.setOptions(r),this.bindMethods(),Se(this,ke,De).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=P(this,ue).defaultMutationOptions(t),sr(this.options,r)||P(this,ue).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,x),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&_t(r.mutationKey)!==_t(this.options.mutationKey)?this.reset():((i=P(this,x))==null?void 0:i.state.status)==="pending"&&P(this,x).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=P(this,x))==null||t.removeObserver(this)}onMutationUpdate(t){Se(this,ke,De).call(this),Se(this,Re,dt).call(this,t)}getCurrentResult(){return P(this,de)}reset(){var t;(t=P(this,x))==null||t.removeObserver(this),Ve(this,x,void 0),Se(this,ke,De).call(this),Se(this,Re,dt).call(this)}mutate(t,r){var i;return Ve(this,se,r),(i=P(this,x))==null||i.removeObserver(this),Ve(this,x,P(this,ue).getMutationCache().build(P(this,ue),this.options)),P(this,x).addObserver(this),P(this,x).execute(t)}},ue=new WeakMap,de=new WeakMap,x=new WeakMap,se=new WeakMap,ke=new WeakSet,De=function(){var r;const t=((r=P(this,x))==null?void 0:r.state)??or();Ve(this,de,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Re=new WeakSet,dt=function(t){lr.batch(()=>{var r,i,a,l,v,m,d,c;if(P(this,se)&&this.hasListeners()){const w=P(this,de).variables,_=P(this,de).context;(t==null?void 0:t.type)==="success"?((i=(r=P(this,se)).onSuccess)==null||i.call(r,t.data,w,_),(l=(a=P(this,se)).onSettled)==null||l.call(a,t.data,null,w,_)):(t==null?void 0:t.type)==="error"&&((m=(v=P(this,se)).onError)==null||m.call(v,t.error,w,_),(c=(d=P(this,se)).onSettled)==null||c.call(d,void 0,t.error,w,_))}this.listeners.forEach(w=>{w(P(this,de))})})},$t);function jr(e,t){const r=Or(),i=D(()=>r.defaultMutationOptions(dr(e))),a=new Er(r,i.value),l=qe(a.getCurrentResult()),v=a.subscribe(c=>{ar(l,c)}),m=(c,w)=>{a.mutate(c,w).catch(()=>{})};oe(i,()=>{a.setOptions(i.value)}),cr(()=>{v()});const d=ur(Nt(l));return oe(()=>l.error,c=>{if(c&&fr(i.value.throwOnError,[c]))throw c}),{...d,mutate:m,mutateAsync:l.mutate,reset:l.reset}}const Ir=async e=>{if(e==="create")return{id:"",title:"",slug:"",description:"",price:0,sizes:[],stock:0,images:[],tags:[],gender:"",user:{}};try{const{data:t}=await He.get(`/products/${e}`);return console.log({data:t}),{...t,images:t.images.map(Ar)}}catch(t){throw console.log(t),new Error(`Error al obtener el producto del id ${e}`)}},Cr=async e=>{const t=e.id,r=await Nr(e.images??[]);if(e.images=r??[],e=Pr(e),console.log({producto:e}),t&&t!=="")return console.log({producto:e}),await Fr(t,e);$r(e)},Pr=e=>{var r;const t=((r=e.images)==null?void 0:r.map(i=>i.startsWith("http")?i.split("/").pop()?i:"":i))??[];return delete e.id,delete e.user,e.images=t,e},Fr=async(e,t)=>{try{const{data:r}=await He.patch(`/products/${e}`,t);return r}catch(r){throw console.log(r),new Error("Error al actualizar el producto")}},$r=async e=>{try{const{data:t}=await He.post("/products",e);return console.log({data:t}),t}catch(t){throw console.log(t),new Error("Error al crear el producto")}},Nr=async e=>{const t=e.filter(l=>l instanceof File),r=e.filter(l=>typeof l=="string"),i=t.map(async l=>{try{const v=new FormData;v.append("file",l);const{data:m}=await He.post("/files/product",v);return m.secureUrl}catch(v){throw console.log(v),new Error("Error al subir las imagenes")}}),a=await Promise.all(i);return[...r,...a]};/**
  * vee-validate v4.13.1
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function J(e){return typeof e=="function"}function Ae(e){return e==null}const Ee=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function gt(e){return Number(e)>=0}function Rr(e){return typeof e=="object"&&e!==null}function Tr(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Ot(e){if(!Rr(e)||Tr(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ne(e,t){return Object.keys(t).forEach(r=>{if(Ot(t[r])&&Ot(e[r])){e[r]||(e[r]={}),Ne(e[r],t[r]);return}e[r]=t[r]}),e}function ze(e){const t=e.split(".");if(!t.length)return"";let r=String(t[0]);for(let i=1;i<t.length;i++){if(gt(t[i])){r+=`[${t[i]}]`;continue}r+=`.${t[i]}`}return r}const Mr={};function Ur(e){return Mr[e]}function At(e,t,r){typeof r.value=="object"&&(r.value=A(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||t==="__proto__"?Object.defineProperty(e,t,r):e[t]=r.value}function A(e){if(typeof e!="object")return e;var t=0,r,i,a,l=Object.prototype.toString.call(e);if(l==="[object Object]"?a=Object.create(e.__proto__||null):l==="[object Array]"?a=Array(e.length):l==="[object Set]"?(a=new Set,e.forEach(function(v){a.add(A(v))})):l==="[object Map]"?(a=new Map,e.forEach(function(v,m){a.set(A(m),A(v))})):l==="[object Date]"?a=new Date(+e):l==="[object RegExp]"?a=new RegExp(e.source,e.flags):l==="[object DataView]"?a=new e.constructor(A(e.buffer)):l==="[object ArrayBuffer]"?a=e.slice(0):l.slice(-6)==="Array]"&&(a=new e.constructor(e)),a){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)At(a,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(a,r=i[t])&&a[r]===e[r]||At(a,r,Object.getOwnPropertyDescriptor(e,r))}return a||e}const zt=Symbol("vee-validate-form"),zr=typeof window<"u";function Br(e){return J(e)&&!!e.__locatorRef}function ce(e){return!!e&&J(e.parse)&&e.__type==="VVTypedSchema"}function Bt(e){return!!e&&J(e.validate)}function Lr(e){return e==="checkbox"||e==="radio"}function Dr(e){return Ee(e)||Array.isArray(e)}function qr(e){return Array.isArray(e)?e.length===0:Ee(e)&&Object.keys(e).length===0}function xe(e){return/^\[.+\]$/i.test(e)}function Gr(e){return Lt(e)&&e.multiple}function Lt(e){return e.tagName==="SELECT"}function Hr(e){return Dt(e)&&e.target&&"submit"in e.target}function Dt(e){return e?!!(typeof Event<"u"&&J(Event)&&e instanceof Event||e&&e.srcElement):!1}function fe(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!fe(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!fe(i[1],t.get(i[0])))return!1;return!0}if(kt(e)&&kt(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(a=Object.keys(e),r=a.length,i=r;i--!==0;){var l=a[i];if(!fe(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function kt(e){return zr?e instanceof File:!1}function ht(e){return xe(e)?e.replace(/\[|\]/gi,""):e}function R(e,t,r){return e?xe(t)?e[ht(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((a,l)=>Dr(a)&&l in a?a[l]:r,e):r}function T(e,t,r){if(xe(t)){e[ht(t)]=r;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let l=0;l<i.length;l++){if(l===i.length-1){a[i[l]]=r;return}(!(i[l]in a)||Ae(a[i[l]]))&&(a[i[l]]=gt(i[l+1])?[]:{}),a=a[i[l]]}}function at(e,t){if(Array.isArray(e)&&gt(t)){e.splice(Number(t),1);return}Ee(e)&&delete e[t]}function Et(e,t){if(xe(t)){delete e[ht(t)];return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let l=0;l<r.length;l++){if(l===r.length-1){at(i,r[l]);break}if(!(r[l]in i)||Ae(i[r[l]]))break;i=i[r[l]]}const a=r.map((l,v)=>R(e,r.slice(0,v).join(".")));for(let l=a.length-1;l>=0;l--)if(qr(a[l])){if(l===0){at(e,r[0]);continue}at(a[l-1],r[l-1])}}function K(e){return Object.keys(e)}function xr(e,t=void 0){const r=br();return(r==null?void 0:r.provides[e])||hr(e,t)}function jt(e,t=0){let r=null,i=[];return function(...a){return r&&clearTimeout(r),r=setTimeout(()=>{const l=e(...a);i.forEach(v=>v(l)),i=[]},t),new Promise(l=>i.push(l))}}function Wr(e,t){let r;return async function(...a){const l=e(...a);r=l;const v=await l;return l!==r?v:(r=void 0,t(v,a))}}function Zr({get:e,set:t}){const r=Q(A(e()));return oe(e,i=>{fe(i,r.value)||(r.value=A(i))},{deep:!0}),oe(r,i=>{fe(i,e())||t(A(i))},{deep:!0}),r}function It(e){return Array.isArray(e)?e:e?[e]:[]}function Be(e,t){const r={};for(const i in e)t.includes(i)||(r[i]=e[i]);return r}function Kr(e){let t=null,r=[];return function(...i){const a=te(()=>{if(t!==a)return;const l=e(...i);r.forEach(v=>v(l)),r=[],t=null});return t=a,new Promise(l=>r.push(l))}}function ut(e){if(qt(e))return e._value}function qt(e){return"_value"in e}function Xr(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Ct(e){if(!Dt(e))return e;const t=e.target;if(Lr(t.type)&&qt(t))return ut(t);if(t.type==="file"&&t.files){const r=Array.from(t.files);return t.multiple?r:r[0]}if(Gr(t))return Array.from(t.options).filter(r=>r.selected&&!r.disabled).map(ut);if(Lt(t)){const r=Array.from(t.options).find(i=>i.selected);return r?ut(r):t.value}return Xr(t)}function Yr(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Ee(e)&&e._$$isNormalized?e:Ee(e)?Object.keys(e).reduce((r,i)=>{const a=Qr(e[i]);return e[i]!==!1&&(r[i]=Pt(a)),r},t):typeof e!="string"?t:e.split("|").reduce((r,i)=>{const a=Jr(i);return a.name&&(r[a.name]=Pt(a.params)),r},t):t}function Qr(e){return e===!0?[]:Array.isArray(e)||Ee(e)?e:[e]}function Pt(e){const t=r=>typeof r=="string"&&r[0]==="@"?en(r.slice(1)):r;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((r,i)=>(r[i]=t(e[i]),r),{})}const Jr=e=>{let t=[];const r=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:r,params:t}};function en(e){const t=r=>R(r,e)||r[e];return t.__locatorRef=e,t}const tn={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let rn=Object.assign({},tn);const Fe=()=>rn;async function nn(e,t,r={}){const i=r==null?void 0:r.bails,a={name:(r==null?void 0:r.name)||"{field}",rules:t,label:r==null?void 0:r.label,bails:i??!0,formData:(r==null?void 0:r.values)||{}},l=await sn(a,e);return Object.assign(Object.assign({},l),{valid:!l.errors.length})}async function sn(e,t){const r=e.rules;if(ce(r)||Bt(r))return ln(t,Object.assign(Object.assign({},e),{rules:r}));if(J(r)||Array.isArray(r)){const m={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},d=Array.isArray(r)?r:[r],c=d.length,w=[];for(let _=0;_<c;_++){const U=d[_],j=await U(t,m);if(!(typeof j!="string"&&!Array.isArray(j)&&j)){if(Array.isArray(j))w.push(...j);else{const ne=typeof j=="string"?j:Ht(m);w.push(ne)}if(e.bails)return{errors:w}}}return{errors:w}}const i=Object.assign(Object.assign({},e),{rules:Yr(r)}),a=[],l=Object.keys(i.rules),v=l.length;for(let m=0;m<v;m++){const d=l[m],c=await an(i,t,{name:d,params:i.rules[d]});if(c.error&&(a.push(c.error),e.bails))return{errors:a}}return{errors:a}}function on(e){return!!e&&e.name==="ValidationError"}function Gt(e){return{__type:"VVTypedSchema",async parse(r,i){var a;try{return{output:await e.validate(r,{abortEarly:!1,context:(i==null?void 0:i.formData)||{}}),errors:[]}}catch(l){if(!on(l))throw l;if(!(!((a=l.inner)===null||a===void 0)&&a.length)&&l.errors.length)return{errors:[{path:l.path,errors:l.errors}]};const v=l.inner.reduce((m,d)=>{const c=d.path||"";return m[c]||(m[c]={errors:[],path:c}),m[c].errors.push(...d.errors),m},{});return{errors:Object.values(v)}}}}}async function ln(e,t){const i=await(ce(t.rules)?t.rules:Gt(t.rules)).parse(e,{formData:t.formData}),a=[];for(const l of i.errors)l.errors.length&&a.push(...l.errors);return{value:i.value,errors:a}}async function an(e,t,r){const i=Ur(r.name);if(!i)throw new Error(`No such validator '${r.name}' exists.`);const a=un(r.params,e.formData),l={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},r),{params:a})},v=await i(t,a,l);return typeof v=="string"?{error:v}:{error:v?void 0:Ht(l)}}function Ht(e){const t=Fe().generateMessage;return t?t(e):"Field is invalid"}function un(e,t){const r=i=>Br(i)?i(t):i;return Array.isArray(e)?e.map(r):Object.keys(e).reduce((i,a)=>(i[a]=r(e[a]),i),{})}async function dn(e,t){const i=await(ce(e)?e:Gt(e)).parse(A(t)),a={},l={};for(const v of i.errors){const m=v.errors,d=(v.path||"").replace(/\["(\d+)"\]/g,(c,w)=>`[${w}]`);a[d]={valid:!m.length,errors:m},m.length&&(l[d]=m[0])}return{valid:!i.errors.length,results:a,errors:l,values:i.value,source:"schema"}}async function cn(e,t,r){const a=K(e).map(async c=>{var w,_,U;const j=(w=r==null?void 0:r.names)===null||w===void 0?void 0:w[c],W=await nn(R(t,c),e[c],{name:(j==null?void 0:j.name)||c,label:j==null?void 0:j.label,values:t,bails:(U=(_=r==null?void 0:r.bailsMap)===null||_===void 0?void 0:_[c])!==null&&U!==void 0?U:!0});return Object.assign(Object.assign({},W),{path:c})});let l=!0;const v=await Promise.all(a),m={},d={};for(const c of v)m[c.path]={valid:c.valid,errors:c.errors},c.valid||(l=!1,d[c.path]=c.errors[0]);return{valid:l,results:m,errors:d,source:"schema"}}let fn=0;const Le=["bails","fieldsCount","id","multiple","type","validate"];function xt(e){const t=(e==null?void 0:e.initialValues)||{},r=Object.assign({},E(t)),i=re(e==null?void 0:e.validationSchema);return i&&ce(i)&&J(i.cast)?A(i.cast(r)||{}):A(r)}function vn(e){var t;const r=fn++;let i=0;const a=Q(!1),l=Q(!1),v=Q(0),m=[],d=qe(xt(e)),c=Q([]),w=Q({}),_=Q({}),U=Kr(()=>{_.value=c.value.reduce((o,s)=>(o[ze(E(s.path))]=s,o),{})});function j(o,s){const u=z(o);if(!u){typeof o=="string"&&(w.value[ze(o)]=It(s));return}if(typeof o=="string"){const f=ze(o);w.value[f]&&delete w.value[f]}u.errors=It(s),u.valid=!u.errors.length}function W(o){K(o).forEach(s=>{j(s,o[s])})}e!=null&&e.initialErrors&&W(e.initialErrors);const ne=D(()=>{const o=c.value.reduce((s,u)=>(u.errors.length&&(s[u.path]=u.errors),s),{});return Object.assign(Object.assign({},w.value),o)}),ve=D(()=>K(ne.value).reduce((o,s)=>{const u=ne.value[s];return u!=null&&u.length&&(o[s]=u[0]),o},{})),me=D(()=>c.value.reduce((o,s)=>(o[s.path]={name:s.path||"",label:s.label||""},o),{})),je=D(()=>c.value.reduce((o,s)=>{var u;return o[s.path]=(u=s.bails)!==null&&u!==void 0?u:!0,o},{})),be=Object.assign({},(e==null?void 0:e.initialErrors)||{}),ye=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:g,originalInitialValues:h,setInitialValues:V}=hn(c,d,e),O=gn(c,d,h,ve),k=D(()=>c.value.reduce((o,s)=>{const u=R(d,s.path);return T(o,s.path,u),o},{})),S=e==null?void 0:e.validationSchema;function F(o,s){var u,f;const b=D(()=>R(g.value,E(o))),y=_.value[E(o)],p=(s==null?void 0:s.type)==="checkbox"||(s==null?void 0:s.type)==="radio";if(y&&p){y.multiple=!0;const Z=i++;return Array.isArray(y.id)?y.id.push(Z):y.id=[y.id,Z],y.fieldsCount++,y.__flags.pendingUnmount[Z]=!1,y}const C=D(()=>R(d,E(o))),$=E(o),B=ge.findIndex(Z=>Z===$);B!==-1&&ge.splice(B,1);const I=D(()=>{var Z,Ie,rt,nt;const it=E(S);if(ce(it))return(Ie=(Z=it.describe)===null||Z===void 0?void 0:Z.call(it,E(o)).required)!==null&&Ie!==void 0?Ie:!1;const st=E(s==null?void 0:s.schema);return ce(st)&&(nt=(rt=st.describe)===null||rt===void 0?void 0:rt.call(st).required)!==null&&nt!==void 0?nt:!1}),L=i++,H=qe({id:L,path:o,touched:!1,pending:!1,valid:!0,validated:!!(!((u=be[$])===null||u===void 0)&&u.length),required:I,initialValue:b,errors:pr([]),bails:(f=s==null?void 0:s.bails)!==null&&f!==void 0?f:!1,label:s==null?void 0:s.label,type:(s==null?void 0:s.type)||"default",value:C,multiple:!1,__flags:{pendingUnmount:{[L]:!1},pendingReset:!1},fieldsCount:1,validate:s==null?void 0:s.validate,dirty:D(()=>!fe(re(C),re(b)))});return c.value.push(H),_.value[$]=H,U(),ve.value[$]&&!be[$]&&te(()=>{he($,{mode:"silent"})}),wt(o)&&oe(o,Z=>{U();const Ie=A(C.value);_.value[Z]=H,te(()=>{T(d,Z,Ie)})}),H}const X=jt(yt,5),We=jt(yt,5),Te=Wr(async o=>await(o==="silent"?X():We()),(o,[s])=>{const u=K(ie.errorBag.value),b=[...new Set([...K(o.results),...c.value.map(y=>y.path),...u])].sort().reduce((y,p)=>{var C;const $=p,B=z($)||Ze($),I=((C=o.results[$])===null||C===void 0?void 0:C.errors)||[],L=E(B==null?void 0:B.path)||$,H=pn({errors:I,valid:!I.length},y.results[L]);return y.results[L]=H,H.valid||(y.errors[L]=H.errors[0]),B&&w.value[L]&&delete w.value[L],B?(B.valid=H.valid,s==="silent"||s==="validated-only"&&!B.validated||j(B,H.errors),y):(j(L,I),y)},{valid:o.valid,results:{},errors:{},source:o.source});return o.values&&(b.values=o.values,b.source=o.source),K(b.results).forEach(y=>{var p;const C=z(y);C&&s!=="silent"&&(s==="validated-only"&&!C.validated||j(C,(p=b.results[y])===null||p===void 0?void 0:p.errors))}),b});function ee(o){c.value.forEach(o)}function z(o){const s=typeof o=="string"?ze(o):o;return typeof s=="string"?_.value[s]:s}function Ze(o){return c.value.filter(u=>o.startsWith(u.path)).reduce((u,f)=>u?f.path.length>u.path.length?f:u:f,void 0)}let ge=[],N;function le(o){return ge.push(o),N||(N=te(()=>{[...ge].sort().reverse().forEach(u=>{Et(d,u)}),ge=[],N=null})),N}function Y(o){return function(u,f){return function(y){return y instanceof Event&&(y.preventDefault(),y.stopPropagation()),ee(p=>p.touched=!0),a.value=!0,v.value++,we().then(p=>{const C=A(d);if(p.valid&&typeof u=="function"){const $=A(k.value);let B=o?$:C;return p.values&&(B=p.source==="schema"?p.values:Object.assign({},B,p.values)),u(B,{evt:y,controlledValues:$,setErrors:W,setFieldError:j,setTouched:Qe,setFieldTouched:Me,setValues:Xe,setFieldValue:ae,resetForm:Je,resetField:mt})}!p.valid&&typeof f=="function"&&f({values:C,evt:y,errors:p.errors,results:p.results})}).then(p=>(a.value=!1,p),p=>{throw a.value=!1,p})}}}const Ke=Y(!1);Ke.withControlled=Y(!0);function Wt(o,s){const u=c.value.findIndex(b=>b.path===o&&(Array.isArray(b.id)?b.id.includes(s):b.id===s)),f=c.value[u];if(!(u===-1||!f)){if(te(()=>{he(o,{mode:"silent",warn:!1})}),f.multiple&&f.fieldsCount&&f.fieldsCount--,Array.isArray(f.id)){const b=f.id.indexOf(s);b>=0&&f.id.splice(b,1),delete f.__flags.pendingUnmount[s]}(!f.multiple||f.fieldsCount<=0)&&(c.value.splice(u,1),bt(o),U(),delete _.value[o])}}function Zt(o){K(_.value).forEach(s=>{s.startsWith(o)&&delete _.value[s]}),c.value=c.value.filter(s=>!s.path.startsWith(o)),te(()=>{U()})}const ie={formId:r,values:d,controlledValues:k,errorBag:ne,errors:ve,schema:S,submitCount:v,meta:O,isSubmitting:a,isValidating:l,fieldArrays:m,keepValuesOnUnmount:ye,validateSchema:re(S)?Te:void 0,validate:we,setFieldError:j,validateField:he,setFieldValue:ae,setValues:Xe,setErrors:W,setFieldTouched:Me,setTouched:Qe,resetForm:Je,resetField:mt,handleSubmit:Ke,useFieldModel:tr,defineInputBinds:rr,defineComponentBinds:nr,defineField:tt,stageInitialValue:Jt,unsetInitialValue:bt,setFieldInitialValue:et,createPathState:F,getPathState:z,unsetPathValue:le,removePathState:Wt,initialValues:g,getAllPathStates:()=>c.value,destroyPath:Zt,isFieldTouched:Xt,isFieldDirty:Yt,isFieldValid:Qt};function ae(o,s,u=!0){const f=A(s),b=typeof o=="string"?o:o.path;z(b)||F(b),T(d,b,f),u&&he(b)}function Kt(o,s=!0){K(d).forEach(u=>{delete d[u]}),K(o).forEach(u=>{ae(u,o[u],!1)}),s&&we()}function Xe(o,s=!0){Ne(d,o),m.forEach(u=>u&&u.reset()),s&&we()}function Ye(o,s){const u=z(E(o))||F(o);return D({get(){return u.value},set(f){var b;const y=E(o);ae(y,f,(b=E(s))!==null&&b!==void 0?b:!1)}})}function Me(o,s){const u=z(o);u&&(u.touched=s)}function Xt(o){const s=z(o);return s?s.touched:c.value.filter(u=>u.path.startsWith(o)).some(u=>u.touched)}function Yt(o){const s=z(o);return s?s.dirty:c.value.filter(u=>u.path.startsWith(o)).some(u=>u.dirty)}function Qt(o){const s=z(o);return s?s.valid:c.value.filter(u=>u.path.startsWith(o)).every(u=>u.valid)}function Qe(o){if(typeof o=="boolean"){ee(s=>{s.touched=o});return}K(o).forEach(s=>{Me(s,!!o[s])})}function mt(o,s){var u;const f=s&&"value"in s?s.value:R(g.value,o),b=z(o);b&&(b.__flags.pendingReset=!0),et(o,A(f),!0),ae(o,f,!1),Me(o,(u=s==null?void 0:s.touched)!==null&&u!==void 0?u:!1),j(o,(s==null?void 0:s.errors)||[]),te(()=>{b&&(b.__flags.pendingReset=!1)})}function Je(o,s){let u=A(o!=null&&o.values?o.values:h.value);u=s!=null&&s.force?u:Ne(h.value,u),u=ce(S)&&J(S.cast)?S.cast(u):u,V(u,{force:s==null?void 0:s.force}),ee(f=>{var b;f.__flags.pendingReset=!0,f.validated=!1,f.touched=((b=o==null?void 0:o.touched)===null||b===void 0?void 0:b[f.path])||!1,ae(f.path,R(u,f.path),!1),j(f.path,void 0)}),s!=null&&s.force?Kt(u,!1):Xe(u,!1),W((o==null?void 0:o.errors)||{}),v.value=(o==null?void 0:o.submitCount)||0,te(()=>{we({mode:"silent"}),ee(f=>{f.__flags.pendingReset=!1})})}async function we(o){const s=(o==null?void 0:o.mode)||"force";if(s==="force"&&ee(p=>p.validated=!0),ie.validateSchema)return ie.validateSchema(s);l.value=!0;const u=await Promise.all(c.value.map(p=>p.validate?p.validate(o).then(C=>({key:p.path,valid:C.valid,errors:C.errors,value:C.value})):Promise.resolve({key:p.path,valid:!0,errors:[],value:void 0})));l.value=!1;const f={},b={},y={};for(const p of u)f[p.key]={valid:p.valid,errors:p.errors},p.value&&T(y,p.key,p.value),p.errors.length&&(b[p.key]=p.errors[0]);return{valid:u.every(p=>p.valid),results:f,errors:b,values:y,source:"fields"}}async function he(o,s){var u;const f=z(o);if(f&&(s==null?void 0:s.mode)!=="silent"&&(f.validated=!0),S){const{results:b}=await Te((s==null?void 0:s.mode)||"validated-only");return b[o]||{errors:[],valid:!0}}return f!=null&&f.validate?f.validate(s):(!f&&(u=s==null?void 0:s.warn),Promise.resolve({errors:[],valid:!0}))}function bt(o){Et(g.value,o)}function Jt(o,s,u=!1){et(o,s),T(d,o,s),u&&!(e!=null&&e.initialValues)&&T(h.value,o,A(s))}function et(o,s,u=!1){T(g.value,o,A(s)),u&&T(h.value,o,A(s))}async function yt(){const o=re(S);if(!o)return{valid:!0,results:{},errors:{},source:"none"};l.value=!0;const s=Bt(o)||ce(o)?await dn(o,d):await cn(o,d,{names:me.value,bailsMap:je.value});return l.value=!1,s}const er=Ke((o,{evt:s})=>{Hr(s)&&s.target.submit()});vr(()=>{if(e!=null&&e.initialErrors&&W(e.initialErrors),e!=null&&e.initialTouched&&Qe(e.initialTouched),e!=null&&e.validateOnMount){we();return}ie.validateSchema&&ie.validateSchema("silent")}),wt(S)&&oe(S,()=>{var o;(o=ie.validateSchema)===null||o===void 0||o.call(ie,"validated-only")}),mr(zt,ie);function tt(o,s){const u=J(s)||s==null?void 0:s.label,f=z(E(o))||F(o,{label:u}),b=()=>J(s)?s(Be(f,Le)):s||{};function y(){var I;f.touched=!0,((I=b().validateOnBlur)!==null&&I!==void 0?I:Fe().validateOnBlur)&&he(f.path)}function p(){var I;((I=b().validateOnInput)!==null&&I!==void 0?I:Fe().validateOnInput)&&te(()=>{he(f.path)})}function C(){var I;((I=b().validateOnChange)!==null&&I!==void 0?I:Fe().validateOnChange)&&te(()=>{he(f.path)})}const $=D(()=>{const I={onChange:C,onInput:p,onBlur:y};return J(s)?Object.assign(Object.assign({},I),s(Be(f,Le)).props||{}):s!=null&&s.props?Object.assign(Object.assign({},I),s.props(Be(f,Le))):I});return[Ye(o,()=>{var I,L,H;return(H=(I=b().validateOnModelUpdate)!==null&&I!==void 0?I:(L=Fe())===null||L===void 0?void 0:L.validateOnModelUpdate)!==null&&H!==void 0?H:!0}),$]}function tr(o){return Array.isArray(o)?o.map(s=>Ye(s,!0)):Ye(o)}function rr(o,s){const[u,f]=tt(o,s);function b(){f.value.onBlur()}function y(C){const $=Ct(C);ae(E(o),$,!1),f.value.onInput()}function p(C){const $=Ct(C);ae(E(o),$,!1),f.value.onChange()}return D(()=>Object.assign(Object.assign({},f.value),{onBlur:b,onInput:y,onChange:p,value:u.value}))}function nr(o,s){const[u,f]=tt(o,s),b=z(E(o));function y(p){u.value=p}return D(()=>{const p=J(s)?s(Be(b,Le)):s||{};return Object.assign({[p.model||"modelValue"]:u.value,[`onUpdate:${p.model||"modelValue"}`]:y},f.value)})}return Object.assign(Object.assign({},ie),{values:Nt(d),handleReset:()=>Je(),submitForm:er})}function gn(e,t,r,i){const a={touched:"some",pending:"some",valid:"every"},l=D(()=>!fe(t,re(r)));function v(){const d=e.value;return K(a).reduce((c,w)=>{const _=a[w];return c[w]=d[_](U=>U[w]),c},{})}const m=qe(v());return Rt(()=>{const d=v();m.touched=d.touched,m.valid=d.valid,m.pending=d.pending}),D(()=>Object.assign(Object.assign({initialValues:re(r)},m),{valid:m.valid&&!K(i.value).length,dirty:l.value}))}function hn(e,t,r){const i=xt(r),a=Q(i),l=Q(A(i));function v(m,d){d!=null&&d.force?(a.value=A(m),l.value=A(m)):(a.value=Ne(A(a.value)||{},A(m)),l.value=Ne(A(l.value)||{},A(m))),d!=null&&d.updateFields&&e.value.forEach(c=>{if(c.touched)return;const _=R(a.value,c.path);T(t,c.path,A(_))})}return{initialValues:a,originalInitialValues:l,setInitialValues:v}}function pn(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}function Ft(e){const t=xr(zt,void 0),r=Q([]),i=()=>{},a={fields:r,remove:i,push:i,swap:i,insert:i,update:i,replace:i,prepend:i,move:i};if(!t||!re(e))return a;const l=t.fieldArrays.find(g=>re(g.path)===re(e));if(l)return l;let v=0;function m(){return R(t==null?void 0:t.values,E(e),[])||[]}function d(){const g=m();Array.isArray(g)&&(r.value=g.map((h,V)=>w(h,V,r.value)),c())}d();function c(){const g=r.value.length;for(let h=0;h<g;h++){const V=r.value[h];V.isFirst=h===0,V.isLast=h===g-1}}function w(g,h,V){if(V&&!Ae(h)&&V[h])return V[h];const O=v++;return{key:O,value:Zr({get(){const S=R(t==null?void 0:t.values,E(e),[])||[],F=r.value.findIndex(X=>X.key===O);return F===-1?g:S[F]},set(S){const F=r.value.findIndex(X=>X.key===O);F!==-1&&me(F,S)}}),isFirst:!1,isLast:!1}}function _(){c(),t==null||t.validate({mode:"silent"})}function U(g){const h=E(e),V=R(t==null?void 0:t.values,h);if(!V||!Array.isArray(V))return;const O=[...V];O.splice(g,1);const k=h+`[${g}]`;t.destroyPath(k),t.unsetInitialValue(k),T(t.values,h,O),r.value.splice(g,1),_()}function j(g){const h=A(g),V=E(e),O=R(t==null?void 0:t.values,V),k=Ae(O)?[]:O;if(!Array.isArray(k))return;const S=[...k];S.push(h),t.stageInitialValue(V+`[${S.length-1}]`,h),T(t.values,V,S),r.value.push(w(h)),_()}function W(g,h){const V=E(e),O=R(t==null?void 0:t.values,V);if(!Array.isArray(O)||!(g in O)||!(h in O))return;const k=[...O],S=[...r.value],F=k[g];k[g]=k[h],k[h]=F;const X=S[g];S[g]=S[h],S[h]=X,T(t.values,V,k),r.value=S,c()}function ne(g,h){const V=A(h),O=E(e),k=R(t==null?void 0:t.values,O);if(!Array.isArray(k)||k.length<g)return;const S=[...k],F=[...r.value];S.splice(g,0,V),F.splice(g,0,w(V)),T(t.values,O,S),r.value=F,_()}function ve(g){const h=E(e);t.stageInitialValue(h,g),T(t.values,h,g),d(),_()}function me(g,h){const V=E(e),O=R(t==null?void 0:t.values,V);!Array.isArray(O)||O.length-1<g||(T(t.values,`${V}[${g}]`,h),t==null||t.validate({mode:"validated-only"}))}function je(g){const h=A(g),V=E(e),O=R(t==null?void 0:t.values,V),k=Ae(O)?[]:O;if(!Array.isArray(k))return;const S=[h,...k];T(t.values,V,S),t.stageInitialValue(V+"[0]",h),r.value.unshift(w(h)),_()}function be(g,h){const V=E(e),O=R(t==null?void 0:t.values,V),k=Ae(O)?[]:[...O];if(!Array.isArray(O)||!(g in O)||!(h in O))return;const S=[...r.value],F=S[g];S.splice(g,1),S.splice(h,0,F);const X=k[g];k.splice(g,1),k.splice(h,0,X),T(t.values,V,k),r.value=S,_()}const ye={fields:r,remove:U,push:j,swap:W,insert:ne,update:me,replace:ve,prepend:je,move:be};return t.fieldArrays.push(Object.assign({path:e,reset:d},ye)),gr(()=>{const g=t.fieldArrays.findIndex(h=>E(h.path)===E(e));g>=0&&t.fieldArrays.splice(g,1)}),oe(m,g=>{const h=r.value.map(V=>V.value);fe(g,h)||d()}),ye}const pt=e=>(Tt("data-v-5ed39a4a"),e=e(),Mt(),e),mn=["type","value"],bn={key:0},yn={class:"bg-red-200 flex p-2 rounded-md capitalize"},_n={fill:"#00000",viewBox:"-6.4 -6.4 76.80 76.80",version:"1.1",width:"25",height:"25",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},stroke:"#ffffff"},wn=pt(()=>n("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1)),Vn=pt(()=>n("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),Sn=pt(()=>n("g",{id:"SVGRepo_iconCarrier"},[n("rect",{id:"Icons",x:"-704",y:"-64",width:"1280",height:"800",style:{fill:"none"}}),n("g",{id:"Icons1","serif:id":"Icons"},[n("g",{id:"Strike"}),n("g",{id:"H1"}),n("g",{id:"H2"}),n("g",{id:"H3"}),n("g",{id:"list-ul"}),n("g",{id:"hamburger-1"}),n("g",{id:"hamburger-2"}),n("g",{id:"list-ol"}),n("g",{id:"list-task"}),n("g",{id:"trash"}),n("g",{id:"vertical-menu"}),n("g",{id:"horizontal-menu"}),n("g",{id:"sidebar-2"}),n("g",{id:"Pen"}),n("g",{id:"Pen1","serif:id":"Pen"}),n("g",{id:"clock"}),n("g",{id:"external-link"}),n("g",{id:"hr"}),n("g",{id:"info"}),n("g",{id:"warning"}),n("path",{id:"error-circle",d:"M32.085,56.058c6.165,-0.059 12.268,-2.619 16.657,-6.966c5.213,-5.164 7.897,-12.803 6.961,-20.096c-1.605,-12.499 -11.855,-20.98 -23.772,-20.98c-9.053,0 -17.853,5.677 -21.713,13.909c-2.955,6.302 -2.96,13.911 0,20.225c3.832,8.174 12.488,13.821 21.559,13.908c0.103,0.001 0.205,0.001 0.308,0Zm-0.282,-4.003c-9.208,-0.089 -17.799,-7.227 -19.508,-16.378c-1.204,-6.452 1.07,-13.433 5.805,-18.015c5.53,-5.35 14.22,-7.143 21.445,-4.11c6.466,2.714 11.304,9.014 12.196,15.955c0.764,5.949 -1.366,12.184 -5.551,16.48c-3.672,3.767 -8.82,6.016 -14.131,6.068c-0.085,0 -0.171,0 -0.256,0Zm-12.382,-10.29l9.734,-9.734l-9.744,-9.744l2.804,-2.803l9.744,9.744l10.078,-10.078l2.808,2.807l-10.078,10.079l10.098,10.098l-2.803,2.804l-10.099,-10.099l-9.734,9.734l-2.808,-2.808Z"}),n("g",{id:"plus-circle"}),n("g",{id:"minus-circle"}),n("g",{id:"vue"}),n("g",{id:"cog"}),n("g",{id:"logo"}),n("g",{id:"radio-check"}),n("g",{id:"eye-slash"}),n("g",{id:"eye"}),n("g",{id:"toggle-off"}),n("g",{id:"shredder"}),n("g",{id:"spinner--loading--dots-","serif:id":"spinner [loading, dots]"}),n("g",{id:"react"}),n("g",{id:"check-selected"}),n("g",{id:"turn-off"}),n("g",{id:"code-block"}),n("g",{id:"user"}),n("g",{id:"coffee-bean"}),n("g",{id:"coffee-beans"},[n("g",{id:"coffee-bean1","serif:id":"coffee-bean"})]),n("g",{id:"coffee-bean-filled"}),n("g",{id:"coffee-beans-filled"},[n("g",{id:"coffee-bean2","serif:id":"coffee-bean"})]),n("g",{id:"clipboard"}),n("g",{id:"clipboard-paste"}),n("g",{id:"clipboard-copy"}),n("g",{id:"Layer1"})])],-1)),On=[wn,Vn,Sn],An=ct({__name:"CustomInput",props:{modelValue:{},error:{},type:{default:"text"}},emits:["blur","update:modelValue"],setup(e){return(t,r)=>(G(),q(Pe,null,[n("input",{type:t.type,value:t.modelValue,onInput:r[0]||(r[0]=i=>{var a;return t.$emit("update:modelValue",((a=i.target)==null?void 0:a.value)??"")}),onBlur:r[1]||(r[1]=i=>t.$emit("blur")),class:ft(["form-control mb-1",{"border-red-500":t.error}])},null,42,mn),t.error?(G(),q("span",bn,[n("div",yn,[(G(),q("svg",_n,On)),Ge(" "+$e(t.error),1)])])):vt("",!0)],64))}}),kn=Ut(An,[["__scopeId","data-v-5ed39a4a"]]),En=["type","value"],jn={key:0},In={class:"bg-red-200 flex p-2 rounded-md capitalize"},Cn={fill:"#00000",viewBox:"-6.4 -6.4 76.80 76.80",version:"1.1",width:"25",height:"25",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},stroke:"#ffffff"},Pn=n("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),Fn=n("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),$n=n("g",{id:"SVGRepo_iconCarrier"},[n("rect",{id:"Icons",x:"-704",y:"-64",width:"1280",height:"800",style:{fill:"none"}}),n("g",{id:"Icons1","serif:id":"Icons"},[n("g",{id:"Strike"}),n("g",{id:"H1"}),n("g",{id:"H2"}),n("g",{id:"H3"}),n("g",{id:"list-ul"}),n("g",{id:"hamburger-1"}),n("g",{id:"hamburger-2"}),n("g",{id:"list-ol"}),n("g",{id:"list-task"}),n("g",{id:"trash"}),n("g",{id:"vertical-menu"}),n("g",{id:"horizontal-menu"}),n("g",{id:"sidebar-2"}),n("g",{id:"Pen"}),n("g",{id:"Pen1","serif:id":"Pen"}),n("g",{id:"clock"}),n("g",{id:"external-link"}),n("g",{id:"hr"}),n("g",{id:"info"}),n("g",{id:"warning"}),n("path",{id:"error-circle",d:"M32.085,56.058c6.165,-0.059 12.268,-2.619 16.657,-6.966c5.213,-5.164 7.897,-12.803 6.961,-20.096c-1.605,-12.499 -11.855,-20.98 -23.772,-20.98c-9.053,0 -17.853,5.677 -21.713,13.909c-2.955,6.302 -2.96,13.911 0,20.225c3.832,8.174 12.488,13.821 21.559,13.908c0.103,0.001 0.205,0.001 0.308,0Zm-0.282,-4.003c-9.208,-0.089 -17.799,-7.227 -19.508,-16.378c-1.204,-6.452 1.07,-13.433 5.805,-18.015c5.53,-5.35 14.22,-7.143 21.445,-4.11c6.466,2.714 11.304,9.014 12.196,15.955c0.764,5.949 -1.366,12.184 -5.551,16.48c-3.672,3.767 -8.82,6.016 -14.131,6.068c-0.085,0 -0.171,0 -0.256,0Zm-12.382,-10.29l9.734,-9.734l-9.744,-9.744l2.804,-2.803l9.744,9.744l10.078,-10.078l2.808,2.807l-10.078,10.079l10.098,10.098l-2.803,2.804l-10.099,-10.099l-9.734,9.734l-2.808,-2.808Z"}),n("g",{id:"plus-circle"}),n("g",{id:"minus-circle"}),n("g",{id:"vue"}),n("g",{id:"cog"}),n("g",{id:"logo"}),n("g",{id:"radio-check"}),n("g",{id:"eye-slash"}),n("g",{id:"eye"}),n("g",{id:"toggle-off"}),n("g",{id:"shredder"}),n("g",{id:"spinner--loading--dots-","serif:id":"spinner [loading, dots]"}),n("g",{id:"react"}),n("g",{id:"check-selected"}),n("g",{id:"turn-off"}),n("g",{id:"code-block"}),n("g",{id:"user"}),n("g",{id:"coffee-bean"}),n("g",{id:"coffee-beans"},[n("g",{id:"coffee-bean1","serif:id":"coffee-bean"})]),n("g",{id:"coffee-bean-filled"}),n("g",{id:"coffee-beans-filled"},[n("g",{id:"coffee-bean2","serif:id":"coffee-bean"})]),n("g",{id:"clipboard"}),n("g",{id:"clipboard-paste"}),n("g",{id:"clipboard-copy"}),n("g",{id:"Layer1"})])],-1),Nn=[Pn,Fn,$n],Rn=ct({__name:"CustomTextarea",props:{modelValue:{},error:{},type:{default:"text"}},emits:["blur","update:modelValue"],setup(e){return(t,r)=>(G(),q("div",null,[n("textarea",{type:t.type,value:t.modelValue,onInput:r[0]||(r[0]=i=>{var a;return t.$emit("update:modelValue",((a=i.target)==null?void 0:a.value)??"")}),onBlur:r[1]||(r[1]=i=>t.$emit("blur")),class:ft(["shadow h-32 appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",{"border-red-500":t.error}])},null,42,En),t.error?(G(),q("span",jn,[n("div",In,[(G(),q("svg",Cn,Nn)),Ge(" "+$e(t.error),1)])])):vt("",!0)]))}}),Tn=_r({title:Ue().required().min(3),slug:Ue().required(),description:Ue().required(),price:Vt().required(),stock:Vt().min(1).required(),gender:Ue().required().oneOf(["men","women","kid"])}),Mn=ct({components:{CustomInput:kn,CustomTextarea:Rn},props:{productId:{type:String,required:!0}},setup(e){const t=wr(),r=yr(),{data:i,isError:a,isLoading:l}=kr({queryKey:["product",e.productId],queryFn:()=>Ir(e.productId),retry:!1}),{mutate:v,isPending:m,isSuccess:d,data:c}=jr({mutationFn:Cr}),{values:w,defineField:_,errors:U,handleSubmit:j,resetForm:W}=vn({validationSchema:Tn,initialValues:i.value}),[ne,ve]=_("title"),[me,je]=_("slug"),[be,ye]=_("description"),[g,h]=_("price"),[V,O]=_("stock"),[k,S]=_("gender"),{fields:F,remove:X,push:We}=Ft("sizes"),{fields:Te}=Ft("images"),ee=Q([]),z=j(N=>{const le=ee.value.map(_e=>URL.createObjectURL(_e)),Y={...N,images:[...N.images,...le]};v(Y)}),Ze=N=>{const le=F.value.map(_e=>_e.value);le.includes(N)?X(le.indexOf(N)):We(N)},ge=N=>{const Y=N.target.files;if(Y&&Y.length!==0)for(const _e of Y)ee.value.push(_e)};return Rt(()=>{if(a.value&&!l.value){t.replace("/admin/products");return}}),oe(i,()=>{i&&W({values:i.value})},{deep:!0,immediate:!0}),oe(d,N=>{N&&(r.success("Producto Actualizado Correctamente"),W({values:c.value}),ee.value=[],t.replace("/admin/products"))}),{values:w,errors:U,title:ne,titleAttrs:ve,slug:me,slugAttrs:je,description:be,descriptionAttrs:ye,price:g,priceAttrs:h,stock:V,stockAttrs:O,gender:k,genderAttrs:S,imageFiles:ee,images:Te,sizes:F,isPending:m,allSizes:["XS","S","M","L","XL","XXL"],onSubmit:z,toggleSize:Ze,onFileChanged:ge,hasSize:N=>F.value.map(Y=>Y.value).includes(N),temporalIamgeUrl:N=>URL.createObjectURL(N)}}}),M=e=>(Tt("data-v-0ed9096e"),e=e(),Mt(),e),Un={class:"bg-white px-5 py-2 rounded"},zn={class:"text-3xl"},Bn={class:"text-blue-500"},Ln=M(()=>n("hr",{class:"my-4"},null,-1)),Dn={class:"first-col"},qn={class:"mb-4"},Gn=M(()=>n("label",{for:"title",class:"form-label"},"Título",-1)),Hn={class:"mb-4"},xn=M(()=>n("label",{for:"slug",class:"form-label"},"Slug",-1)),Wn={class:"mb-4"},Zn=M(()=>n("label",{for:"description",class:"form-label"},"Descripción",-1)),Kn={class:"flex flex-row gap-3"},Xn={class:"mb-4 flex-1"},Yn=M(()=>n("label",{for:"price",class:"form-label"},"Precio",-1)),Qn={class:"mb-4 flex-1"},Jn=M(()=>n("label",{for:"stock",class:"form-label"},"Inventario",-1)),ei={class:"mb-4"},ti=M(()=>n("label",{for:"sizes",class:"form-label"},"Tallas",-1)),ri={class:"flex"},ni=["onClick"],ii={class:"first-col"},si=M(()=>n("label",{for:"stock",class:"form-label"},"Imágenes",-1)),oi={class:"flex p-2 overflow-x-auto space-x-8 w-full h-[265px] bg-gray-200 rounded"},li=["src"],ai=["src"],ui={class:"col-span-2 my-2"},di=M(()=>n("label",{for:"image",class:"form-label"},"Subir imagen",-1)),ci={class:"mb-4"},fi=M(()=>n("label",{for:"stock",class:"form-label"},"Género",-1)),vi=M(()=>n("option",{value:""},"Seleccione",-1)),gi=M(()=>n("option",{value:"kid"},"Niño",-1)),hi=M(()=>n("option",{value:"women"},"Mujer",-1)),pi=M(()=>n("option",{value:"men"},"Hombre",-1)),mi=[vi,gi,hi,pi],bi={key:0},yi={class:"bg-red-200 flex p-2 rounded-md capitalize"},_i={fill:"#00000",viewBox:"-6.4 -6.4 76.80 76.80",version:"1.1",width:"25",height:"25",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},stroke:"#ffffff"},wi=M(()=>n("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1)),Vi=M(()=>n("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),Si=M(()=>n("g",{id:"SVGRepo_iconCarrier"},[n("rect",{id:"Icons",x:"-704",y:"-64",width:"1280",height:"800",style:{fill:"none"}}),n("g",{id:"Icons1","serif:id":"Icons"},[n("g",{id:"Strike"}),n("g",{id:"H1"}),n("g",{id:"H2"}),n("g",{id:"H3"}),n("g",{id:"list-ul"}),n("g",{id:"hamburger-1"}),n("g",{id:"hamburger-2"}),n("g",{id:"list-ol"}),n("g",{id:"list-task"}),n("g",{id:"trash"}),n("g",{id:"vertical-menu"}),n("g",{id:"horizontal-menu"}),n("g",{id:"sidebar-2"}),n("g",{id:"Pen"}),n("g",{id:"Pen1","serif:id":"Pen"}),n("g",{id:"clock"}),n("g",{id:"external-link"}),n("g",{id:"hr"}),n("g",{id:"info"}),n("g",{id:"warning"}),n("path",{id:"error-circle",d:"M32.085,56.058c6.165,-0.059 12.268,-2.619 16.657,-6.966c5.213,-5.164 7.897,-12.803 6.961,-20.096c-1.605,-12.499 -11.855,-20.98 -23.772,-20.98c-9.053,0 -17.853,5.677 -21.713,13.909c-2.955,6.302 -2.96,13.911 0,20.225c3.832,8.174 12.488,13.821 21.559,13.908c0.103,0.001 0.205,0.001 0.308,0Zm-0.282,-4.003c-9.208,-0.089 -17.799,-7.227 -19.508,-16.378c-1.204,-6.452 1.07,-13.433 5.805,-18.015c5.53,-5.35 14.22,-7.143 21.445,-4.11c6.466,2.714 11.304,9.014 12.196,15.955c0.764,5.949 -1.366,12.184 -5.551,16.48c-3.672,3.767 -8.82,6.016 -14.131,6.068c-0.085,0 -0.171,0 -0.256,0Zm-12.382,-10.29l9.734,-9.734l-9.744,-9.744l2.804,-2.803l9.744,9.744l10.078,-10.078l2.808,2.807l-10.078,10.079l10.098,10.098l-2.803,2.804l-10.099,-10.099l-9.734,9.734l-2.808,-2.808Z"}),n("g",{id:"plus-circle"}),n("g",{id:"minus-circle"}),n("g",{id:"vue"}),n("g",{id:"cog"}),n("g",{id:"logo"}),n("g",{id:"radio-check"}),n("g",{id:"eye-slash"}),n("g",{id:"eye"}),n("g",{id:"toggle-off"}),n("g",{id:"shredder"}),n("g",{id:"spinner--loading--dots-","serif:id":"spinner [loading, dots]"}),n("g",{id:"react"}),n("g",{id:"check-selected"}),n("g",{id:"turn-off"}),n("g",{id:"code-block"}),n("g",{id:"user"}),n("g",{id:"coffee-bean"}),n("g",{id:"coffee-beans"},[n("g",{id:"coffee-bean1","serif:id":"coffee-bean"})]),n("g",{id:"coffee-bean-filled"}),n("g",{id:"coffee-beans-filled"},[n("g",{id:"coffee-bean2","serif:id":"coffee-bean"})]),n("g",{id:"clipboard"}),n("g",{id:"clipboard-paste"}),n("g",{id:"clipboard-copy"}),n("g",{id:"Layer1"})])],-1)),Oi=[wi,Vi,Si],Ai={class:"my-4 text-right"},ki=["disabled"];function Ei(e,t,r,i,a,l){const v=St("CustomInput"),m=St("CustomTextarea");return G(),q(Pe,null,[n("div",Un,[n("h1",zn,[Ge("Producto: "),n("small",Bn,$e(e.title),1)]),Ln]),n("form",{onSubmit:t[7]||(t[7]=(...d)=>e.onSubmit&&e.onSubmit(...d)),class:"grid grid-cols-1 sm:grid-cols-2 bg-white px-5 gap-5"},[n("div",Dn,[n("div",qn,[Gn,Ce(v,Oe({modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=d=>e.title=d)},e.titleAttrs,{error:e.errors.title}),null,16,["modelValue","error"])]),n("div",Hn,[xn,Ce(v,Oe({modelValue:e.slug,"onUpdate:modelValue":t[1]||(t[1]=d=>e.slug=d)},e.slugAttrs,{error:e.errors.slug}),null,16,["modelValue","error"])]),n("div",Wn,[Zn,Ce(m,Oe({modelValue:e.description,"onUpdate:modelValue":t[2]||(t[2]=d=>e.description=d)},e.descriptionAttrs,{error:e.errors.description,class:""}),null,16,["modelValue","error"])]),n("div",Kn,[n("div",Xn,[Yn,Ce(v,Oe({modelValue:e.price,"onUpdate:modelValue":t[3]||(t[3]=d=>e.price=d),modelModifiers:{number:!0}},e.priceAttrs,{error:e.errors.price,type:"number"}),null,16,["modelValue","error"])]),n("div",Qn,[Jn,Ce(v,Oe({modelValue:e.stock,"onUpdate:modelValue":t[4]||(t[4]=d=>e.stock=d),modelModifiers:{number:!0}},e.stockAttrs,{error:e.errors.stock,type:"number"}),null,16,["modelValue","error"])])]),n("div",ei,[ti,n("div",ri,[(G(!0),q(Pe,null,lt(e.allSizes,d=>(G(),q("button",{onClick:c=>e.toggleSize(d),key:d,type:"button",class:ft(["bg-blue-100 p-2 rounded w-14 mr-2 flex-1",{"bg-blue-500 text-white":e.hasSize(d),"bg-blue-100":!e.hasSize(d)}])},$e(d),11,ni))),128))])])]),n("div",ii,[si,n("div",oi,[(G(!0),q(Pe,null,lt(e.images,d=>(G(),q("div",{key:d.value,class:"flex-shrink-0"},[n("img",{src:d.value,alt:"imagen",class:"w-[250px] h-[250px] rounded"},null,8,li)]))),128)),(G(!0),q(Pe,null,lt(e.imageFiles,d=>(G(),q("div",{key:d.name,class:"flex-shrink-0"},[n("img",{src:e.temporalIamgeUrl(d),alt:"imagen",class:"w-[250px] h-[250px] rounded"},null,8,ai)]))),128))]),n("div",ui,[di,n("input",{multiple:"",type:"file",id:"image",class:"form-control",accept:"image/*",onChange:t[5]||(t[5]=(...d)=>e.onFileChanged&&e.onFileChanged(...d))},null,32)]),n("div",ci,[fi,Vr(n("select",Oe({"onUpdate:modelValue":t[6]||(t[6]=d=>e.gender=d)},e.genderAttrs,{class:["form-control mb-1",{"border-red-500":e.errors.gender}]}),mi,16),[[Sr,e.gender]]),e.errors.gender?(G(),q("span",bi,[n("div",yi,[(G(),q("svg",_i,Oi)),Ge(" "+$e(e.errors.gender),1)])])):vt("",!0)]),n("div",Ai,[n("button",{disabled:e.isPending,type:"submit",class:"disabled:bg-gray-400 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Guardar ",8,ki)])])],32)],64)}const Pi=Ut(Mn,[["render",Ei],["__scopeId","data-v-0ed9096e"]]);export{Pi as default};
